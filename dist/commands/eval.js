// Generated by CoffeeScript 2.5.1
var util;

util = require("util");

module.exports.run = function(client, message, args) {
  var content, result;
  content = message.content.split(" ").slice(1).join(" ");
  result = new Promise(function(resolve, reject) {
    return resolve(eval(content));
  });
  return result.then(function(output) {
    if (typeof output !== "string") {
      output = util.inspect(output, {
        depth: 0
      });
    }
    return client.createMessage(message.channel.id, `\`\`\`js\n${output}\n`);
  }).catch(function(err) {
    return client.createMessage(message.channel.id, `\`\`\`js\n${err.toString()}\n\`\`\``);
  });
};

module.exports.help = {
  name: "eval",
  onlyMod: true
};
